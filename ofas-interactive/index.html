<!DOCTYPE html><html lang="en" class="light" style="scroll-padding:60px"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1"/><title>Ofas Interactive Applications - undefined</title><meta property="og:title" content="Ofas Interactive Applications - undefined"/><meta name="twitter:card" content="summary"/><meta name="twitter:title" content="Ofas Interactive Applications - undefined"/><meta name="twitter:alt" content="Ofas Interactive Applications - undefined"/><link rel="stylesheet" href="/ofas-interactive/build/_assets/app-OZBX7SG6.css"/><link rel="stylesheet" href="/ofas-interactive/build/_assets/thebe-core-OX2DMXEZ.css"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/jupyter-matplotlib@0.11.3/css/mpl_widget.css"/><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.css"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.2/dist/katex.min.css" integrity="sha384-MlJdn/WNKDGXveldHDdyRP1R4CTHr3FeuDNfhsLPYrq2t0UBkUdK2jyTnXPEK1NQ" crossorigin="anonymous"/></head><body class="m-0 transition-colors duration-500 bg-white dark:bg-stone-900"><div class="bg-white/80 backdrop-blur dark:bg-stone-900/80 shadow dark:shadow-stone-700 p-3 md:px-8 fixed w-screen top-0 z-30 h-[60px]"><nav class="flex items-center justify-between flex-wrap max-w-[1440px] mx-auto"><div class="flex flex-row xl:min-w-[19.5rem] mr-2 sm:mr-7 justify-start items-center"><div class="block xl:hidden"><button class="flex items-center border-stone-400 text-stone-800 hover:text-stone-900 dark:text-stone-200 hover:dark:text-stone-100"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" width="2rem" height="2rem" class="m-1"><path fill-rule="evenodd" d="M3 6.75A.75.75 0 013.75 6h16.5a.75.75 0 010 1.5H3.75A.75.75 0 013 6.75zM3 12a.75.75 0 01.75-.75h16.5a.75.75 0 010 1.5H3.75A.75.75 0 013 12zm0 5.25a.75.75 0 01.75-.75h16.5a.75.75 0 010 1.5H3.75a.75.75 0 01-.75-.75z" clip-rule="evenodd"></path></svg><span class="sr-only">Open Menu</span></button></div><a class="flex items-center ml-3 dark:text-white w-fit md:ml-5 xl:ml-7" href="/ofas-interactive/"><span class="text-md sm:text-xl tracking-tight sm:mr-5">Made with MyST</span></a></div><div class="flex items-center flex-grow w-auto"><div class="flex-grow hidden text-md lg:block"></div><div class="flex-grow block"></div><button class="theme rounded-full border border-stone-700 dark:border-white hover:bg-neutral-100 border-solid overflow-hidden text-stone-700 dark:text-white hover:text-stone-500 dark:hover:text-neutral-800 w-8 h-8 mx-3" title="Change theme to dark mode." aria-label="Change theme to dark mode."><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" class="h-full w-full p-0.5"><path stroke-linecap="round" stroke-linejoin="round" d="M12 3v2.25m6.364.386l-1.591 1.591M21 12h-2.25m-.386 6.364l-1.591-1.591M12 18.75V21m-4.773-4.227l-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0z"></path></svg></button><div class="block sm:hidden"><div class="relative" data-headlessui-state=""><div><button class="flex text-sm bg-transparent rounded-full focus:outline-none" id="headlessui-menu-button-:Rcikp:" type="button" aria-haspopup="menu" aria-expanded="false" data-headlessui-state=""><span class="sr-only">Open Menu</span><div class="flex items-center text-stone-200 hover:text-white"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" width="2rem" height="2rem" class="p-1"><path fill-rule="evenodd" d="M10.5 6a1.5 1.5 0 113 0 1.5 1.5 0 01-3 0zm0 6a1.5 1.5 0 113 0 1.5 1.5 0 01-3 0zm0 6a1.5 1.5 0 113 0 1.5 1.5 0 01-3 0z" clip-rule="evenodd"></path></svg></div></button></div></div></div><div class="hidden sm:block"><a href="https://mystmd.org/guide" target="_blank" rel="noopener noreferrer" class="inline-block px-4 py-2 mx-1 mt-0 leading-none border rounded text-md border-stone-700 dark:border-white text-stone-700 dark:text-white hover:text-stone-500 dark:hover:text-neutral-800 hover:bg-neutral-100">Learn More</a></div></div></nav></div><article class="article content article-grid grid-gap" style="margin-top:60px"><main class="article-grid subgrid-gap col-screen"><div class="sticky z-10 hidden h-0 col-margin-right-inset lg:block" style="top:60px"><nav></nav></div><div class="hidden"></div><div class="pt-5 mb-8"><div class="flex items-center h-6 mt-3 mb-5 text-sm font-light"><div class="flex-grow"></div><a href="https://github.com/sigmarkarl/sigmarkarlhub.io" title="GitHub Repository: sigmarkarl/sigmarkarlhub.io" target="_blank" rel="noopener noreferrer" class="text-inherit hover:text-inherit"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" width="1.25rem" height="1.25rem" class="inline-block mr-1 opacity-60 hover:opacity-100"><path d="M12 2.5c-5.4 0-9.8 4.4-9.8 9.7 0 4.3 2.8 8 6.7 9.2.5.1.7-.2.7-.5v-1.8c-2.4.5-3.1-.6-3.3-1.1-.1-.3-.6-1.1-1-1.4-.3-.2-.8-.6 0-.6s1.3.7 1.5 1c.9 1.5 2.3 1.1 2.8.8.1-.6.3-1.1.6-1.3-2.2-.2-4.4-1.1-4.4-4.8 0-1.1.4-1.9 1-2.6-.1-.2-.4-1.2.1-2.6 0 0 .8-.3 2.7 1 .8-.2 1.6-.3 2.4-.3.8 0 1.7.1 2.4.3 1.9-1.3 2.7-1 2.7-1 .5 1.3.2 2.3.1 2.6.6.7 1 1.5 1 2.6 0 3.7-2.3 4.6-4.4 4.8.4.3.7.9.7 1.8V21c0 .3.2.6.7.5 3.9-1.3 6.6-4.9 6.6-9.2 0-5.4-4.4-9.8-9.8-9.8z"></path></svg></a><div class="inline-block mr-1"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" width="1.25rem" height="1.25rem" class="inline-block"><path d="M20.2 1.7c0 .8-.5 1.4-1.3 1.5-.8 0-1.4-.5-1.5-1.3 0-.8.5-1.4 1.3-1.5.8-.1 1.5.5 1.5 1.3zM12 17.9c-3.7 0-7-1.3-8.7-3.3 1.8 4.8 7.1 7.3 11.9 5.5 2.5-.9 4.5-2.9 5.5-5.5-1.7 2-4.9 3.3-8.7 3.3zM12 5.1c3.7 0 7 1.3 8.7 3.3-1.8-4.8-7.1-7.3-11.9-5.5-2.5.9-4.5 2.9-5.5 5.5 1.7-2 5-3.3 8.7-3.3zM6.9 21.8c.1 1-.7 1.8-1.7 1.9-1 .1-1.8-.7-1.9-1.7 0-1 .7-1.8 1.7-1.9 1-.1 1.8.7 1.9 1.7zM3.7 4.6c-.6 0-1-.4-1-1s.4-1 1-1 1 .4 1 1c0 .5-.4 1-1 1z"></path></svg></div><div class="relative flex inline-block mx-1 grow-0" data-headlessui-state=""><button class="relative" id="headlessui-menu-button-:R1kht4p:" type="button" aria-haspopup="menu" aria-expanded="false" data-headlessui-state=""><span class="sr-only">Downloads</span><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" width="1.25rem" height="1.25rem" class="ml-2 -mr-1"><path stroke-linecap="round" stroke-linejoin="round" d="M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5M16.5 12L12 16.5m0 0L7.5 12m4.5 4.5V3"></path></svg></button></div></div><h1 class="mb-0">Ofas Interactive Applications</h1></div><div id="QZeWqsPgEQ" class="relative group/block article-grid subgrid-gap col-screen"><h2 id="introduction" class="relative group"><span class="heading-text">Introduction</span><a class="select-none no-underline text-inherit hover:text-inherit px-2 font-normal transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#introduction" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><p>An interactive Spark application is a long-running application which the user can interact with on runtime. This can be a notebook application or applications running Spark Connect or HiveThrift servers. Spark Connect supports languages such as Python, Scala and Go and potentially all languages supported by gRPC. The HiveThrift server offers SQL interaction through JDBC.</p></div><div id="OoYft12uO5" class="relative group/block article-grid subgrid-gap col-screen"><h2 id="spark-connect" class="relative group"><span class="heading-text">Spark Connect</span><a class="select-none no-underline text-inherit hover:text-inherit px-2 font-normal transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#spark-connect" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><p>In Apache Spark 3.4, Spark Connect introduced a decoupled client-server architecture that allows remote connectivity to Spark clusters using the DataFrame API and unresolved logical plans as the protocol. The separation between client and server allows Spark and its open ecosystem to be leveraged from everywhere. It can be embedded in modern data applications, in IDEs, Notebooks and programming languages.</p></div><div id="LAKES9iuCL" class="relative group/block article-grid subgrid-gap col-screen"><h3 id="server-side" class="relative group"><span class="heading-text">Server side</span><a class="select-none no-underline text-inherit hover:text-inherit px-2 font-normal transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#server-side" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>To start a Spark application with SparkConnect server, either run the mainClass SparkConnectServer or enable the SparkConnect plugin. Using the Spark Connect plugin, the application can run other tasks or services while enabling Spark Connect.</p></div><div id="AMxPye9nFA" class="relative group/block article-grid subgrid-gap col-screen"><h4 id="spark-connect-launch-using-the-sparkconnectserver" class="relative group"><span class="heading-text">Spark Connect launch using the SparkConnectServer</span><a class="select-none no-underline text-inherit hover:text-inherit px-2 font-normal transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#spark-connect-launch-using-the-sparkconnectserver" title="Link to this Section" aria-label="Link to this Section">¶</a></h4><div id="nb-cell-4-0ae4c53369-code" class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm bg-stone-200/10"><pre style="display:block;overflow-x:auto;padding:0.8rem;background:transparent;color:black"><code class="language-json" style="white-space:pre">&quot;mainClass&quot;: &quot;org.apache.spark.connect.sql.service.SparkConnectServer&quot;,
&quot;deps&quot;: {
    &quot;packages&quot;: [&quot;org.apache.spark:spark-connect_2.12:3.5.0&quot;]
}</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute top-1 right-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 01-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 00-3.375-3.375h-1.5a1.125 1.125 0 01-1.125-1.125v-1.5a3.375 3.375 0 00-3.375-3.375H9.75"></path></svg></button></div></div><div id="c3oZJrEOPx" class="relative group/block article-grid subgrid-gap col-screen"><h4 id="spark-connect-launch-using-the-spark-connect-plugin" class="relative group"><span class="heading-text">Spark Connect launch using the Spark Connect plugin</span><a class="select-none no-underline text-inherit hover:text-inherit px-2 font-normal transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#spark-connect-launch-using-the-spark-connect-plugin" title="Link to this Section" aria-label="Link to this Section">¶</a></h4><div id="nb-cell-5-7d2ac785d8-code" class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm bg-stone-200/10"><pre style="display:block;overflow-x:auto;padding:0.8rem;background:transparent;color:black"><code class="language-json" style="white-space:pre">&quot;sparkConf&quot;: {
    &quot;spark.plugins&quot;: &quot;org.apache.spark.sql.connect.SparkConnectPlugin&quot;
},
&quot;deps&quot;: {
    &quot;packages&quot;: [&quot;org.apache.spark:spark-connect_2.12:3.5.0&quot;]
}</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute top-1 right-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 01-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 00-3.375-3.375h-1.5a1.125 1.125 0 01-1.125-1.125v-1.5a3.375 3.375 0 00-3.375-3.375H9.75"></path></svg></button></div></div><div id="rDiIF5jotP" class="relative group/block article-grid subgrid-gap col-screen"><h3 id="client-side" class="relative group"><span class="heading-text">Client side</span><a class="select-none no-underline text-inherit hover:text-inherit px-2 font-normal transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#client-side" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><h4 id="python-library" class="relative group"><span class="heading-text">Python library</span><a class="select-none no-underline text-inherit hover:text-inherit px-2 font-normal transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#python-library" title="Link to this Section" aria-label="Link to this Section">¶</a></h4><p>On the client side use the ocean-spark-connect (<a target="_blank" href="https://pypi.org/project/ocean-spark-connect" rel="noreferrer">https://​​pypi​​.org​​/project​​/ocean​​-spark​​-connect</a>) python library to interact with the Spark Connect session</p></div><div id="v16MfHVIZR" class="relative group/block article-grid subgrid-gap col-screen"><div id="nb-cell-7-305cbf1ff7-code" class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm bg-stone-200/10"><pre style="display:block;overflow-x:auto;padding:0.8rem;background:transparent;color:black"><code class="language-python" style="white-space:pre">from ocean_spark_connect.ocean_spark_session import OceanSparkSession

spark = OceanSparkSession.Builder().cluster_id(&quot;osc-cluster&quot;).appid(&quot;appid&quot;).profile(&quot;default&quot;).getOrCreate()
spark.sql(&quot;select random()&quot;).show()
spark.stop()</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute top-1 right-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 01-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 00-3.375-3.375h-1.5a1.125 1.125 0 01-1.125-1.125v-1.5a3.375 3.375 0 00-3.375-3.375H9.75"></path></svg></button></div></div><div id="Zoi0EwLdBJ" class="relative group/block article-grid subgrid-gap col-screen"><h4 id="spotctl" class="relative group"><span class="heading-text">Spotctl</span><a class="select-none no-underline text-inherit hover:text-inherit px-2 font-normal transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#spotctl" title="Link to this Section" aria-label="Link to this Section">¶</a></h4><p>Use the spotctl command line tool to open a websocket proxy to the interactive Spark application</p></div><div id="zEJvIa06A1" class="relative group/block article-grid subgrid-gap col-screen"><div id="nb-cell-9-58a717690e-code" class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm bg-stone-200/10"><pre style="display:block;overflow-x:auto;padding:0.8rem;background:transparent;color:black"><code class="language-text" style="white-space:pre">brew install spotinst/tap/spotctl
spotctl configure</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute top-1 right-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 01-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 00-3.375-3.375h-1.5a1.125 1.125 0 01-1.125-1.125v-1.5a3.375 3.375 0 00-3.375-3.375H9.75"></path></svg></button></div></div><div id="dg0gBuUSrH" class="relative group/block article-grid subgrid-gap col-screen"><div id="nb-cell-10-5824975ebd-code" class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm bg-stone-200/10"><pre style="display:block;overflow-x:auto;padding:0.8rem;background:transparent;color:black"><code class="language-text" style="white-space:pre">spotctl ocean spark --clusterid osc-cluster --appid appid --profile default</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute top-1 right-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 01-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 00-3.375-3.375h-1.5a1.125 1.125 0 01-1.125-1.125v-1.5a3.375 3.375 0 00-3.375-3.375H9.75"></path></svg></button></div></div><div id="tVNkqBGcE9" class="relative group/block article-grid subgrid-gap col-screen"><p>spotctl will start a service on port 15002 (the default Spark Connect port)</p><div id="nb-cell-11-0227b6e860-code" class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm bg-stone-200/10"><pre style="display:block;overflow-x:auto;padding:0.8rem;background:transparent;color:black"><code class="language-text" style="white-space:pre">pyspark --remote sc://localhost</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute top-1 right-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 01-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 00-3.375-3.375h-1.5a1.125 1.125 0 01-1.125-1.125v-1.5a3.375 3.375 0 00-3.375-3.375H9.75"></path></svg></button></div></div><div id="FTYmkZMDIR" class="relative group/block article-grid subgrid-gap col-screen"><h3 id="example" class="relative group"><span class="heading-text">Example</span><a class="select-none no-underline text-inherit hover:text-inherit px-2 font-normal transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#example" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>Start the application using Postman, from the console or the command line</p><div id="nb-cell-12-4ae660ae74-code-0" class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm bg-stone-200/10"><pre style="display:block;overflow-x:auto;padding:0.8rem;background:transparent;color:black"><code class="language-text" style="white-space:pre">curl -k -X POST &#x27;https://api.spotinst.io/ocean/spark/cluster/{clusterId}/app?accountId={accountId}&#x27; -H &#x27;Content-Type: application/json&#x27; -H &#x27;Authorization: Bearer {token}&#x27; -d &#x27;</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute top-1 right-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 01-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 00-3.375-3.375h-1.5a1.125 1.125 0 01-1.125-1.125v-1.5a3.375 3.375 0 00-3.375-3.375H9.75"></path></svg></button></div><div id="nb-cell-12-4ae660ae74-code-1" class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm bg-stone-200/10"><pre style="display:block;overflow-x:auto;padding:0.8rem;background:transparent;color:black"><code class="language-json" style="white-space:pre">{ 
  &quot;jobId&quot;: &quot;spark-connect&quot;, 
  &quot;configOverrides&quot;: { 
    &quot;mainClass&quot;: &quot;org.apache.spark.connect.sql.service.SparkConnectServer&quot;,
    &quot;deps&quot;: {
        &quot;packages&quot;: [&quot;org.apache.spark:spark-connect_2.12:3.5.0&quot;]
    }
  }
}</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute top-1 right-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 01-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 00-3.375-3.375h-1.5a1.125 1.125 0 01-1.125-1.125v-1.5a3.375 3.375 0 00-3.375-3.375H9.75"></path></svg></button></div></div><div id="bm685G7DfY" class="relative group/block article-grid subgrid-gap col-screen"><h2 id="jdbc" class="relative group"><span class="heading-text">JDBC</span><a class="select-none no-underline text-inherit hover:text-inherit px-2 font-normal transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#jdbc" title="Link to this Section" aria-label="Link to this Section">¶</a></h2><p>JDBC, or Java Database Connectivity, is an API used in Java programming to interact with databases. It provides a standard abstraction for Java applications to communicate with various databases1. JDBC allows applications to send requests made by users to the specified database1. It is used to write programs required to access databases. Apache Spark provides a JDBC interface throught the HiveThriftServer.</p></div><div id="T1BdgYZ34U" class="relative group/block article-grid subgrid-gap col-screen"><h3 id="server-side-1" class="relative group"><span class="heading-text">Server side</span><a class="select-none no-underline text-inherit hover:text-inherit px-2 font-normal transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#server-side-1" title="Link to this Section" aria-label="Link to this Section">¶</a></h3><p>To enable JDBC connections to the Spark Application, start the HiveThriftServer</p></div><div id="whp31yGWo8" class="relative group/block article-grid subgrid-gap col-screen"><h4 id="launch-a-jdbc-server" class="relative group"><span class="heading-text">Launch a JDBC server</span><a class="select-none no-underline text-inherit hover:text-inherit px-2 font-normal transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#launch-a-jdbc-server" title="Link to this Section" aria-label="Link to this Section">¶</a></h4><div id="nb-cell-15-5f77298a22-code" class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm bg-stone-200/10"><pre style="display:block;overflow-x:auto;padding:0.8rem;background:transparent;color:black"><code class="language-json" style="white-space:pre">&quot;mainClass&quot;: &quot;com.netapp.spark.HiveThriftServer&quot;,
&quot;deps&quot;: {
    &quot;packages&quot;: [&quot;com.netapp.spark:hive:1.2.0&quot;],
    &quot;repositories&quot;: [&quot;https://us-central1-maven.pkg.dev/ocean-spark/spark-code-submission-plugin&quot;]
}</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute top-1 right-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 01-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 00-3.375-3.375h-1.5a1.125 1.125 0 01-1.125-1.125v-1.5a3.375 3.375 0 00-3.375-3.375H9.75"></path></svg></button></div></div><div id="uJKvuFoATC" class="relative group/block article-grid subgrid-gap col-screen"><h3 id="client-side-1" class="relative group"><span class="heading-text">Client side</span><a class="select-none no-underline text-inherit hover:text-inherit px-2 font-normal transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#client-side-1" title="Link to this Section" aria-label="Link to this Section">¶</a></h3></div><div id="Sh2SD4ElH7" class="relative group/block article-grid subgrid-gap col-screen"><h4 id="ofas-jdbc-driver" class="relative group"><span class="heading-text">Ofas JDBC driver</span><a class="select-none no-underline text-inherit hover:text-inherit px-2 font-normal transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#ofas-jdbc-driver" title="Link to this Section" aria-label="Link to this Section">¶</a></h4><p>Use the Ofas JDBC driver with database tool or in your code project. The driver available at the following maven coordinates</p><div id="nb-cell-17-84b6ad3514-code-0" class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm bg-stone-200/10"><pre style="display:block;overflow-x:auto;padding:0.8rem;background:transparent;color:black"><code class="language-text" style="white-space:pre">com.netapp.spark:ofas-jdbc:1.2.0</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute top-1 right-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 01-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 00-3.375-3.375h-1.5a1.125 1.125 0 01-1.125-1.125v-1.5a3.375 3.375 0 00-3.375-3.375H9.75"></path></svg></button></div><p>Use the following public maven repository</p><div id="nb-cell-17-84b6ad3514-code-1" class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm bg-stone-200/10"><pre style="display:block;overflow-x:auto;padding:0.8rem;background:transparent;color:black"><code class="language-text" style="white-space:pre">https://us-central1-maven.pkg.dev/ocean-spark/spark-code-submission-plugin</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute top-1 right-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 01-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 00-3.375-3.375h-1.5a1.125 1.125 0 01-1.125-1.125v-1.5a3.375 3.375 0 00-3.375-3.375H9.75"></path></svg></button></div></div><div id="dFO04ZvBOA" class="relative group/block article-grid subgrid-gap col-screen"><h4 id="spotctl-1" class="relative group"><span class="heading-text">Spotctl</span><a class="select-none no-underline text-inherit hover:text-inherit px-2 font-normal transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#spotctl-1" title="Link to this Section" aria-label="Link to this Section">¶</a></h4><p>Use the spotctl command line tool as above, with the port option, --port 10000 or --port hive</p><div id="nb-cell-18-819cc2a17b-code" class="relative group not-prose overflow-auto shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 my-5 text-sm bg-stone-200/10"><pre style="display:block;overflow-x:auto;padding:0.8rem;background:transparent;color:black"><code class="language-text" style="white-space:pre">spotctl ocean spark --clusterid osc-cluster --appid appid --profile default --port hive</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute top-1 right-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 01-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 00-3.375-3.375h-1.5a1.125 1.125 0 01-1.125-1.125v-1.5a3.375 3.375 0 00-3.375-3.375H9.75"></path></svg></button></div><p>The user can now connect to the interactive Spark application through a Hive Thrift library or the Hive JDBC driver.</p></div></main></article><div class="fixed xl:article-grid grid-gap xl:w-screen xl:pointer-events-none overflow-auto max-xl:min-w-[300px] hidden" style="top:60px"><div class="pointer-events-auto xl:col-margin-left flex-col overflow-hidden hidden xl:flex"><nav aria-label="Table of Contents" class="flex-grow overflow-y-auto transition-opacity mt-6 pb-3 ml-3 xl:ml-0 mr-3 max-w-[350px]"><ul class="space-y-6 lg:space-y-2"><li class="text-slate-900 leading-5 dark:text-slate-100 font-semibold"><a title="Ofas Interactive Applications" class="block break-words mb-8 lg:mb-3 font-semibold text-slate-900 dark:text-slate-200" href="/ofas-interactive/">Ofas Interactive Applications</a></li></ul></nav><div class="flex-none py-4 transition-all duration-700 translate-y-6 opacity-0"><a class="flex mx-auto text-gray-700 w-fit hover:text-blue-700 dark:text-gray-200 dark:hover:text-blue-400" href="https://mystmd.org/made-with-myst" target="_blank" rel="noreferrer"><svg style="width:24px;height:24px" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" stroke="none"><g id="icon"><path fill="currentColor" d="M23.8,54.8v-3.6l4.7-0.8V17.5l-4.7-0.8V13H36l13.4,31.7h0.2l13-31.7h12.6v3.6l-4.7,0.8v32.9l4.7,0.8v3.6h-15
          v-3.6l4.9-0.8V20.8H65L51.4,53.3h-3.8l-14-32.5h-0.1l0.2,17.4v12.1l5,0.8v3.6H23.8z"></path><path fill="#F37726" d="M47,86.9c0-5.9-3.4-8.8-10.1-8.8h-8.4c-5.2,0-9.4-1.3-12.5-3.8c-3.1-2.5-5.4-6.2-6.8-11l4.8-1.6
          c1.8,5.6,6.4,8.6,13.8,8.8h9.2c6.4,0,10.8,2.5,13.1,7.5c2.3-5,6.7-7.5,13.1-7.5h8.4c7.8,0,12.7-2.9,14.6-8.7l4.8,1.6
          c-1.4,4.9-3.6,8.6-6.8,11.1c-3.1,2.5-7.3,3.7-12.4,3.8H63c-6.7,0-10,2.9-10,8.8"></path></g></svg><span class="self-center ml-2 text-sm">Made with MyST</span></a></div></div></div><script>((o,d)=>{if(!window.history.state||!window.history.state.key){let h=Math.random().toString(32).slice(2);window.history.replaceState({key:h},"")}try{let p=JSON.parse(sessionStorage.getItem(o)||"{}")[d||window.history.state.key];typeof p=="number"&&window.scrollTo(0,p)}catch(h){console.error(h),sessionStorage.removeItem(o)}})("positions", null)</script><link rel="modulepreload" href="/ofas-interactive/build/entry.client-JHWH3KUY.js"/><link rel="modulepreload" href="/ofas-interactive/build/_shared/chunk-OXM6VUU4.js"/><link rel="modulepreload" href="/ofas-interactive/build/_shared/chunk-RAQ24GF6.js"/><link rel="modulepreload" href="/ofas-interactive/build/_shared/chunk-MHXAWZYU.js"/><link rel="modulepreload" href="/ofas-interactive/build/_shared/chunk-KDXZNC3T.js"/><link rel="modulepreload" href="/ofas-interactive/build/_shared/chunk-GRTCJZI2.js"/><link rel="modulepreload" href="/ofas-interactive/build/_shared/chunk-YGDGRFDD.js"/><link rel="modulepreload" href="/ofas-interactive/build/_shared/chunk-F54WYA2H.js"/><link rel="modulepreload" href="/ofas-interactive/build/_shared/chunk-CBNYJD3L.js"/><link rel="modulepreload" href="/ofas-interactive/build/_shared/chunk-RTIEOE5Q.js"/><link rel="modulepreload" href="/ofas-interactive/build/_shared/chunk-MJFQO7Q4.js"/><link rel="modulepreload" href="/ofas-interactive/build/_shared/chunk-YGE2XP32.js"/><link rel="modulepreload" href="/ofas-interactive/build/_shared/chunk-UZHI4RYQ.js"/><link rel="modulepreload" href="/ofas-interactive/build/_shared/chunk-RTIGS2T3.js"/><link rel="modulepreload" href="/ofas-interactive/build/root-GESPLJJ7.js"/><link rel="modulepreload" href="/ofas-interactive/build/_shared/chunk-L3L3PLYL.js"/><link rel="modulepreload" href="/ofas-interactive/build/routes/$-N43CZZAI.js"/><script>window.__remixContext = {"url":"/ofas-interactive","state":{"loaderData":{"root":{"theme":"light","config":{"myst":"v1","nav":[],"actions":[{"title":"Learn More","url":"https://mystmd.org/guide"}],"projects":[{"authors":[],"github":"https://github.com/sigmarkarl/sigmarkarlhub.io","keywords":[],"bibliography":[],"title":"Ofas Interactive Applications","index":"ofas-interactive","pages":[]}]},"CONTENT_CDN_PORT":"3100","MODE":"static","BASE_URL":"/ofas-interactive"},"routes/$":{"kind":"Notebook","sha256":"4eb7f138201a2c410cbe69f2ae315ec6040c0d9d15d2b28fad6b2bc8ba43bb3d","slug":"ofas-interactive","dependencies":[],"frontmatter":{"title":"Ofas Interactive Applications","authors":[],"github":"https://github.com/sigmarkarl/sigmarkarlhub.io","keywords":[],"exports":[{"format":"ipynb","filename":"ofas-interactive.ipynb","url":"/ofas-interactive/build/ofas-interactive-edf3c47c2cd107076e46ba7523ef9251.ipynb"}]},"mdast":{"type":"root","children":[{"type":"block","position":{"start":{"line":4,"column":0},"end":{"line":5,"column":0}},"children":[{"type":"heading","depth":2,"position":{"start":{"line":6,"column":0},"end":{"line":7,"column":0}},"children":[{"type":"text","value":"Introduction","key":"cLNZbLA9Xf"}],"identifier":"introduction","label":"Introduction","html_id":"introduction","implicit":true,"key":"iiHpf7KC8F"},{"type":"paragraph","position":{"start":{"line":8,"column":0},"end":{"line":9,"column":0}},"children":[{"type":"text","value":"An interactive Spark application is a long-running application which the user can interact with on runtime. This can be a notebook application or applications running Spark Connect or HiveThrift servers. Spark Connect supports languages such as Python, Scala and Go and potentially all languages supported by gRPC. The HiveThrift server offers SQL interaction through JDBC.","key":"i3mhSll1lu"}],"key":"YRHnXUV6HL"}],"data":{"id":"nb-cell-1-58b7d04b96","type":"notebook-content"},"identifier":"nb-cell-1-58b7d04b96","label":"nb-cell-1-58b7d04b96","html_id":"nb-cell-1-58b7d04b96","key":"QZeWqsPgEQ"},{"type":"block","position":{"start":{"line":10,"column":0},"end":{"line":11,"column":0}},"children":[{"type":"heading","depth":2,"position":{"start":{"line":12,"column":0},"end":{"line":13,"column":0}},"children":[{"type":"text","value":"Spark Connect","key":"nY3uP7HnTS"}],"identifier":"spark-connect","label":"Spark Connect","html_id":"spark-connect","implicit":true,"key":"qV6kWzxN7J"},{"type":"paragraph","position":{"start":{"line":13,"column":0},"end":{"line":14,"column":0}},"children":[{"type":"text","value":"In Apache Spark 3.4, Spark Connect introduced a decoupled client-server architecture that allows remote connectivity to Spark clusters using the DataFrame API and unresolved logical plans as the protocol. The separation between client and server allows Spark and its open ecosystem to be leveraged from everywhere. It can be embedded in modern data applications, in IDEs, Notebooks and programming languages.","key":"IXSGqP5tGA"}],"key":"RtPDSPZafX"}],"data":{"id":"nb-cell-2-480e222214","type":"notebook-content"},"identifier":"nb-cell-2-480e222214","label":"nb-cell-2-480e222214","html_id":"nb-cell-2-480e222214","key":"OoYft12uO5"},{"type":"block","position":{"start":{"line":15,"column":0},"end":{"line":16,"column":0}},"children":[{"type":"heading","depth":3,"position":{"start":{"line":17,"column":0},"end":{"line":18,"column":0}},"children":[{"type":"text","value":"Server side","key":"tn3CHgzC8L"}],"identifier":"server-side","label":"Server side","html_id":"server-side","implicit":true,"key":"ZOX39qCzMM"},{"type":"paragraph","position":{"start":{"line":18,"column":0},"end":{"line":19,"column":0}},"children":[{"type":"text","value":"To start a Spark application with SparkConnect server, either run the mainClass SparkConnectServer or enable the SparkConnect plugin. Using the Spark Connect plugin, the application can run other tasks or services while enabling Spark Connect.","key":"Jde3kX1aUv"}],"key":"Ml9kq6o1f3"}],"data":{"id":"nb-cell-3-8e142c2229","type":"notebook-content"},"identifier":"nb-cell-3-8e142c2229","label":"nb-cell-3-8e142c2229","html_id":"nb-cell-3-8e142c2229","key":"LAKES9iuCL"},{"type":"block","position":{"start":{"line":20,"column":0},"end":{"line":21,"column":0}},"children":[{"type":"heading","depth":4,"position":{"start":{"line":22,"column":0},"end":{"line":23,"column":0}},"children":[{"type":"text","value":"Spark Connect launch using the SparkConnectServer","key":"tdydITpVQZ"}],"identifier":"spark-connect-launch-using-the-sparkconnectserver","label":"Spark Connect launch using the SparkConnectServer","html_id":"spark-connect-launch-using-the-sparkconnectserver","implicit":true,"key":"vqDfCq5dAp"},{"type":"code","lang":"json","value":"\"mainClass\": \"org.apache.spark.connect.sql.service.SparkConnectServer\",\n\"deps\": {\n    \"packages\": [\"org.apache.spark:spark-connect_2.12:3.5.0\"]\n}","position":{"start":{"line":23,"column":0},"end":{"line":29,"column":0}},"identifier":"nb-cell-4-0ae4c53369-code","enumerator":"1","html_id":"nb-cell-4-0ae4c53369-code","key":"A5Fv2y5KWQ"}],"data":{"id":"nb-cell-4-0ae4c53369","type":"notebook-content"},"identifier":"nb-cell-4-0ae4c53369","label":"nb-cell-4-0ae4c53369","html_id":"nb-cell-4-0ae4c53369","key":"AMxPye9nFA"},{"type":"block","position":{"start":{"line":30,"column":0},"end":{"line":31,"column":0}},"children":[{"type":"heading","depth":4,"position":{"start":{"line":32,"column":0},"end":{"line":33,"column":0}},"children":[{"type":"text","value":"Spark Connect launch using the Spark Connect plugin","key":"T0bGjnKB57"}],"identifier":"spark-connect-launch-using-the-spark-connect-plugin","label":"Spark Connect launch using the Spark Connect plugin","html_id":"spark-connect-launch-using-the-spark-connect-plugin","implicit":true,"key":"M8aTz2afd5"},{"type":"code","lang":"json","value":"\"sparkConf\": {\n    \"spark.plugins\": \"org.apache.spark.sql.connect.SparkConnectPlugin\"\n},\n\"deps\": {\n    \"packages\": [\"org.apache.spark:spark-connect_2.12:3.5.0\"]\n}","position":{"start":{"line":33,"column":0},"end":{"line":41,"column":0}},"identifier":"nb-cell-5-7d2ac785d8-code","enumerator":"2","html_id":"nb-cell-5-7d2ac785d8-code","key":"G5r9hV2zIY"}],"data":{"id":"nb-cell-5-7d2ac785d8","type":"notebook-content"},"identifier":"nb-cell-5-7d2ac785d8","label":"nb-cell-5-7d2ac785d8","html_id":"nb-cell-5-7d2ac785d8","key":"c3oZJrEOPx"},{"type":"block","position":{"start":{"line":42,"column":0},"end":{"line":43,"column":0}},"children":[{"type":"heading","depth":3,"position":{"start":{"line":44,"column":0},"end":{"line":45,"column":0}},"children":[{"type":"text","value":"Client side","key":"XcZ96ookQV"}],"identifier":"client-side","label":"Client side","html_id":"client-side","implicit":true,"key":"LSGs2kCHig"},{"type":"heading","depth":4,"position":{"start":{"line":45,"column":0},"end":{"line":46,"column":0}},"children":[{"type":"text","value":"Python library","key":"WbjhdGPNTb"}],"identifier":"python-library","label":"Python library","html_id":"python-library","implicit":true,"key":"Nqlr70LbUz"},{"type":"paragraph","position":{"start":{"line":46,"column":0},"end":{"line":47,"column":0}},"children":[{"type":"text","value":"On the client side use the ocean-spark-connect (","key":"dp6yCRYd5F"},{"type":"link","url":"https://pypi.org/project/ocean-spark-connect","children":[{"type":"text","value":"https://​​pypi​​.org​​/project​​/ocean​​-spark​​-connect","key":"SFApd8qOxX"}],"urlSource":"https://pypi.org/project/ocean-spark-connect","key":"iFsrcC3Zbr"},{"type":"text","value":") python library to interact with the Spark Connect session","key":"PHz34pmj5x"}],"key":"lJXSoiPmzj"}],"data":{"id":"nb-cell-6-be6eb731f3","type":"notebook-content"},"identifier":"nb-cell-6-be6eb731f3","label":"nb-cell-6-be6eb731f3","html_id":"nb-cell-6-be6eb731f3","key":"rDiIF5jotP"},{"type":"block","position":{"start":{"line":48,"column":0},"end":{"line":49,"column":0}},"children":[{"type":"code","lang":"python","value":"from ocean_spark_connect.ocean_spark_session import OceanSparkSession\n\nspark = OceanSparkSession.Builder().cluster_id(\"osc-cluster\").appid(\"appid\").profile(\"default\").getOrCreate()\nspark.sql(\"select random()\").show()\nspark.stop()","position":{"start":{"line":50,"column":0},"end":{"line":57,"column":0}},"identifier":"nb-cell-7-305cbf1ff7-code","enumerator":"3","html_id":"nb-cell-7-305cbf1ff7-code","key":"gz5T4NRHpp"}],"data":{"id":"nb-cell-7-305cbf1ff7","type":"notebook-content"},"identifier":"nb-cell-7-305cbf1ff7","label":"nb-cell-7-305cbf1ff7","html_id":"nb-cell-7-305cbf1ff7","key":"v16MfHVIZR"},{"type":"block","position":{"start":{"line":58,"column":0},"end":{"line":59,"column":0}},"children":[{"type":"heading","depth":4,"position":{"start":{"line":60,"column":0},"end":{"line":61,"column":0}},"children":[{"type":"text","value":"Spotctl","key":"yl6XtUXcZZ"}],"identifier":"spotctl","label":"Spotctl","html_id":"spotctl","implicit":true,"key":"dgzfrAuQdM"},{"type":"paragraph","position":{"start":{"line":61,"column":0},"end":{"line":62,"column":0}},"children":[{"type":"text","value":"Use the spotctl command line tool to open a websocket proxy to the interactive Spark application","key":"fM9ilgXWWl"}],"key":"B3hyVuTfWA"}],"data":{"id":"nb-cell-8-58550d501c","type":"notebook-content"},"identifier":"nb-cell-8-58550d501c","label":"nb-cell-8-58550d501c","html_id":"nb-cell-8-58550d501c","key":"Zoi0EwLdBJ"},{"type":"block","position":{"start":{"line":63,"column":0},"end":{"line":64,"column":0}},"children":[{"type":"code","lang":"sh","value":"brew install spotinst/tap/spotctl\nspotctl configure","position":{"start":{"line":65,"column":0},"end":{"line":69,"column":0}},"identifier":"nb-cell-9-58a717690e-code","enumerator":"4","html_id":"nb-cell-9-58a717690e-code","key":"cdFcyX75E6"}],"data":{"id":"nb-cell-9-58a717690e","type":"notebook-content"},"identifier":"nb-cell-9-58a717690e","label":"nb-cell-9-58a717690e","html_id":"nb-cell-9-58a717690e","key":"zEJvIa06A1"},{"type":"block","position":{"start":{"line":70,"column":0},"end":{"line":71,"column":0}},"children":[{"type":"code","lang":"sh","value":"spotctl ocean spark --clusterid osc-cluster --appid appid --profile default","position":{"start":{"line":72,"column":0},"end":{"line":75,"column":0}},"identifier":"nb-cell-10-5824975ebd-code","enumerator":"5","html_id":"nb-cell-10-5824975ebd-code","key":"yZ0FZX85Ff"}],"data":{"id":"nb-cell-10-5824975ebd","type":"notebook-content"},"identifier":"nb-cell-10-5824975ebd","label":"nb-cell-10-5824975ebd","html_id":"nb-cell-10-5824975ebd","key":"dg0gBuUSrH"},{"type":"block","position":{"start":{"line":76,"column":0},"end":{"line":77,"column":0}},"children":[{"type":"paragraph","position":{"start":{"line":78,"column":0},"end":{"line":79,"column":0}},"children":[{"type":"text","value":"spotctl will start a service on port 15002 (the default Spark Connect port)","key":"cQGTvdP2YD"}],"key":"WVJ0FS030H"},{"type":"code","lang":"sh","value":"pyspark --remote sc://localhost","position":{"start":{"line":80,"column":0},"end":{"line":83,"column":0}},"identifier":"nb-cell-11-0227b6e860-code","enumerator":"6","html_id":"nb-cell-11-0227b6e860-code","key":"JXqP40IgF3"}],"data":{"id":"nb-cell-11-0227b6e860","type":"notebook-content"},"identifier":"nb-cell-11-0227b6e860","label":"nb-cell-11-0227b6e860","html_id":"nb-cell-11-0227b6e860","key":"tVNkqBGcE9"},{"type":"block","position":{"start":{"line":84,"column":0},"end":{"line":85,"column":0}},"children":[{"type":"heading","depth":3,"position":{"start":{"line":86,"column":0},"end":{"line":87,"column":0}},"children":[{"type":"text","value":"Example","key":"EZqpYvlNo9"}],"identifier":"example","label":"Example","html_id":"example","implicit":true,"key":"gYJPkjMIqi"},{"type":"paragraph","position":{"start":{"line":87,"column":0},"end":{"line":88,"column":0}},"children":[{"type":"text","value":"Start the application using Postman, from the console or the command line","key":"NZJGdajoeG"}],"key":"uHgApt1dmm"},{"type":"code","lang":"sh","value":"curl -k -X POST 'https://api.spotinst.io/ocean/spark/cluster/{clusterId}/app?accountId={accountId}' -H 'Content-Type: application/json' -H 'Authorization: Bearer {token}' -d '","position":{"start":{"line":88,"column":0},"end":{"line":91,"column":0}},"identifier":"nb-cell-12-4ae660ae74-code-0","enumerator":"7","html_id":"nb-cell-12-4ae660ae74-code-0","key":"C27rFZ2wVR"},{"type":"code","lang":"json","value":"{ \n  \"jobId\": \"spark-connect\", \n  \"configOverrides\": { \n    \"mainClass\": \"org.apache.spark.connect.sql.service.SparkConnectServer\",\n    \"deps\": {\n        \"packages\": [\"org.apache.spark:spark-connect_2.12:3.5.0\"]\n    }\n  }\n}","position":{"start":{"line":91,"column":0},"end":{"line":102,"column":0}},"identifier":"nb-cell-12-4ae660ae74-code-1","enumerator":"8","html_id":"nb-cell-12-4ae660ae74-code-1","key":"XGenjQkzak"}],"data":{"id":"nb-cell-12-4ae660ae74","type":"notebook-content"},"identifier":"nb-cell-12-4ae660ae74","label":"nb-cell-12-4ae660ae74","html_id":"nb-cell-12-4ae660ae74","key":"FTYmkZMDIR"},{"type":"block","position":{"start":{"line":103,"column":0},"end":{"line":104,"column":0}},"children":[{"type":"heading","depth":2,"position":{"start":{"line":105,"column":0},"end":{"line":106,"column":0}},"children":[{"type":"text","value":"JDBC","key":"hxohCR8R1R"}],"identifier":"jdbc","label":"JDBC","html_id":"jdbc","implicit":true,"key":"ZcToKr9C2R"},{"type":"paragraph","position":{"start":{"line":106,"column":0},"end":{"line":107,"column":0}},"children":[{"type":"text","value":"JDBC, or Java Database Connectivity, is an API used in Java programming to interact with databases. It provides a standard abstraction for Java applications to communicate with various databases1. JDBC allows applications to send requests made by users to the specified database1. It is used to write programs required to access databases. Apache Spark provides a JDBC interface throught the HiveThriftServer.","key":"h1yWgIsaWi"}],"key":"XQF33fm47c"}],"data":{"id":"nb-cell-13-f9b9cbdac6","type":"notebook-content"},"identifier":"nb-cell-13-f9b9cbdac6","label":"nb-cell-13-f9b9cbdac6","html_id":"nb-cell-13-f9b9cbdac6","key":"bm685G7DfY"},{"type":"block","position":{"start":{"line":108,"column":0},"end":{"line":109,"column":0}},"children":[{"type":"heading","depth":3,"position":{"start":{"line":110,"column":0},"end":{"line":111,"column":0}},"children":[{"type":"text","value":"Server side","key":"q7kVVQ7Zn2"}],"identifier":"server-side","label":"Server side","html_id":"server-side-1","implicit":true,"key":"WAxLCohTXy"},{"type":"paragraph","position":{"start":{"line":111,"column":0},"end":{"line":112,"column":0}},"children":[{"type":"text","value":"To enable JDBC connections to the Spark Application, start the HiveThriftServer","key":"yh4liNriqd"}],"key":"uL88sN6QWF"}],"data":{"id":"nb-cell-14-fb5e46043e","type":"notebook-content"},"identifier":"nb-cell-14-fb5e46043e","label":"nb-cell-14-fb5e46043e","html_id":"nb-cell-14-fb5e46043e","key":"T1BdgYZ34U"},{"type":"block","position":{"start":{"line":113,"column":0},"end":{"line":114,"column":0}},"children":[{"type":"heading","depth":4,"position":{"start":{"line":115,"column":0},"end":{"line":116,"column":0}},"children":[{"type":"text","value":"Launch a JDBC server","key":"yVUEJIMdLF"}],"identifier":"launch-a-jdbc-server","label":"Launch a JDBC server","html_id":"launch-a-jdbc-server","implicit":true,"key":"jsyz8Dhyeu"},{"type":"code","lang":"json","value":"\"mainClass\": \"com.netapp.spark.HiveThriftServer\",\n\"deps\": {\n    \"packages\": [\"com.netapp.spark:hive:1.2.0\"],\n    \"repositories\": [\"https://us-central1-maven.pkg.dev/ocean-spark/spark-code-submission-plugin\"]\n}","position":{"start":{"line":116,"column":0},"end":{"line":123,"column":0}},"identifier":"nb-cell-15-5f77298a22-code","enumerator":"9","html_id":"nb-cell-15-5f77298a22-code","key":"Grouwrz0g7"}],"data":{"id":"nb-cell-15-5f77298a22","type":"notebook-content"},"identifier":"nb-cell-15-5f77298a22","label":"nb-cell-15-5f77298a22","html_id":"nb-cell-15-5f77298a22","key":"whp31yGWo8"},{"type":"block","position":{"start":{"line":124,"column":0},"end":{"line":125,"column":0}},"children":[{"type":"heading","depth":3,"position":{"start":{"line":126,"column":0},"end":{"line":127,"column":0}},"children":[{"type":"text","value":"Client side","key":"PzbVWT16co"}],"identifier":"client-side","label":"Client side","html_id":"client-side-1","implicit":true,"key":"VaXDfwtw49"}],"data":{"id":"nb-cell-16-24712a82e4","type":"notebook-content"},"identifier":"nb-cell-16-24712a82e4","label":"nb-cell-16-24712a82e4","html_id":"nb-cell-16-24712a82e4","key":"uJKvuFoATC"},{"type":"block","position":{"start":{"line":128,"column":0},"end":{"line":129,"column":0}},"children":[{"type":"heading","depth":4,"position":{"start":{"line":130,"column":0},"end":{"line":131,"column":0}},"children":[{"type":"text","value":"Ofas JDBC driver","key":"tUSp6ID2x6"}],"identifier":"ofas-jdbc-driver","label":"Ofas JDBC driver","html_id":"ofas-jdbc-driver","implicit":true,"key":"g61hMVyvBn"},{"type":"paragraph","position":{"start":{"line":131,"column":0},"end":{"line":132,"column":0}},"children":[{"type":"text","value":"Use the Ofas JDBC driver with database tool or in your code project. The driver available at the following maven coordinates","key":"XMMOJp6o7X"}],"key":"sbNCws4E7K"},{"type":"code","lang":"","value":"com.netapp.spark:ofas-jdbc:1.2.0","position":{"start":{"line":132,"column":0},"end":{"line":135,"column":0}},"identifier":"nb-cell-17-84b6ad3514-code-0","enumerator":"10","html_id":"nb-cell-17-84b6ad3514-code-0","key":"ZCUGxiQ6y5"},{"type":"paragraph","position":{"start":{"line":135,"column":0},"end":{"line":136,"column":0}},"children":[{"type":"text","value":"Use the following public maven repository","key":"kOVTsVfYhs"}],"key":"EAvvKLaOGi"},{"type":"code","lang":"","value":"https://us-central1-maven.pkg.dev/ocean-spark/spark-code-submission-plugin","position":{"start":{"line":136,"column":0},"end":{"line":139,"column":0}},"identifier":"nb-cell-17-84b6ad3514-code-1","enumerator":"11","html_id":"nb-cell-17-84b6ad3514-code-1","key":"h2tLRsO6jN"}],"data":{"id":"nb-cell-17-84b6ad3514","type":"notebook-content"},"identifier":"nb-cell-17-84b6ad3514","label":"nb-cell-17-84b6ad3514","html_id":"nb-cell-17-84b6ad3514","key":"Sh2SD4ElH7"},{"type":"block","position":{"start":{"line":140,"column":0},"end":{"line":141,"column":0}},"children":[{"type":"heading","depth":4,"position":{"start":{"line":142,"column":0},"end":{"line":143,"column":0}},"children":[{"type":"text","value":"Spotctl","key":"YnxVSNzIkk"}],"identifier":"spotctl","label":"Spotctl","html_id":"spotctl-1","implicit":true,"key":"AIcQS14ndw"},{"type":"paragraph","position":{"start":{"line":143,"column":0},"end":{"line":144,"column":0}},"children":[{"type":"text","value":"Use the spotctl command line tool as above, with the port option, --port 10000 or --port hive","key":"dcL6Im3aqQ"}],"key":"egYFz1FLQS"},{"type":"code","lang":"","value":"spotctl ocean spark --clusterid osc-cluster --appid appid --profile default --port hive","position":{"start":{"line":144,"column":0},"end":{"line":147,"column":0}},"identifier":"nb-cell-18-819cc2a17b-code","enumerator":"12","html_id":"nb-cell-18-819cc2a17b-code","key":"df7Ohq3RDl"},{"type":"paragraph","position":{"start":{"line":147,"column":0},"end":{"line":148,"column":0}},"children":[{"type":"text","value":"The user can now connect to the interactive Spark application through a Hive Thrift library or the Hive JDBC driver.","key":"dyiESZ7xRz"}],"key":"KGMSSzwuOL"}],"data":{"id":"nb-cell-18-819cc2a17b","type":"notebook-content"},"identifier":"nb-cell-18-819cc2a17b","label":"nb-cell-18-819cc2a17b","html_id":"nb-cell-18-819cc2a17b","key":"dFO04ZvBOA"}],"key":"BIueo4V4pw"},"references":{"cite":{"order":[],"data":{}}},"footer":{"navigation":{}},"domain":"http://localhost:3007"}},"actionData":null,"errors":null},"future":{"unstable_dev":false,"unstable_postcss":false,"unstable_tailwind":false,"v2_errorBoundary":false,"v2_headers":true,"v2_meta":false,"v2_normalizeFormMethod":true,"v2_routeConvention":true}};</script><script type="module" async="">import "/ofas-interactive/build/manifest-8E8E979A.js";
import * as route0 from "/ofas-interactive/build/root-GESPLJJ7.js";
import * as route1 from "/ofas-interactive/build/routes/$-N43CZZAI.js";
window.__remixRouteModules = {"root":route0,"routes/$":route1};

import("/ofas-interactive/build/entry.client-JHWH3KUY.js");</script></body></html>